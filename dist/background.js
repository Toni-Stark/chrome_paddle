(()=>{"use strict";let e=!1;function t(e){document.body.style.backgroundColor=e}chrome.runtime.onMessage.addListener((async(e,t,n)=>{if("analyzeImage"===e.action){const n=e.imgSrc,a=await async function(e){const t=paddle.createModel({modelPath:chrome.runtime.getURL("model/model.json"),useWebGL:!0});await t.load();const n=new Image;return n.crossOrigin="anonymous",n.src=e,new Promise((e=>{n.onload=async()=>{const a=await t.predict(n);e(a)}}))}(n);chrome.tabs.sendMessage(t.tab.id,{action:"displayResult",result:a})}})),chrome.action.onClicked.addListener((n=>{e=!e;const a=e?"black":"white";chrome.scripting.executeScript({target:{tabId:n.id?n.id:-1},func:t,args:[a]}).then()}))})();